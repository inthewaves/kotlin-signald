// File is -generated by ./gradlew generateSignaldClasses --- do not edit unless reformatting
package org.inthewaves.kotlinsignald.clientprotocol

import kotlinx.serialization.json.Json
import kotlinx.serialization.modules.SerializersModule
import kotlinx.serialization.modules.polymorphic
import kotlinx.serialization.modules.subclass
import org.inthewaves.kotlinsignald.clientprotocol.v1.structures.*
import kotlin.native.concurrent.ThreadLocal

/**
 * The [Json] instance used to serialize and deserialize signald requests and responses. We set it
 * to ignore unknown keys for forward compatibility reasons.
 */
@ThreadLocal
public val SignaldJson: Json = kotlinx.serialization.json.Json {
    encodeDefaults = false
    ignoreUnknownKeys = true
    serializersModule = SerializersModule {
        polymorphic(TypedExceptionV1::class) {
            subclass(AccountAlreadyVerifiedError::class)
            subclass(AccountHasNoKeysError::class)
            subclass(AccountLockedError::class)
            subclass(AttachmentTooLargeError::class)
            subclass(AuthorizationFailedError::class)
            subclass(CaptchaRequiredError::class)
            subclass(DuplicateMessageError::class)
            subclass(FingerprintVersionMismatchError::class)
            subclass(GroupLinkNotActiveError::class)
            subclass(GroupNotActiveError::class)
            subclass(GroupVerificationError::class)
            subclass(InternalError::class)
            subclass(InvalidAttachmentError::class)
            subclass(InvalidBase64Error::class)
            subclass(InvalidFingerprintError::class)
            subclass(InvalidGroupError::class)
            subclass(InvalidGroupStateError::class)
            subclass(InvalidInviteURIError::class)
            subclass(InvalidProxyError::class)
            subclass(InvalidRecipientError::class)
            subclass(InvalidRequestError::class)
            subclass(NoKnownUUIDError::class)
            subclass(NoSendPermissionError::class)
            subclass(NoSuchAccountError::class)
            subclass(NoSuchSessionError::class)
            subclass(OwnProfileKeyDoesNotExistError::class)
            subclass(ProfileUnavailableError::class)
            subclass(ProofRequiredError::class)
            subclass(ProtocolInvalidMessageError::class)
            subclass(RateLimitError::class)
            subclass(ScanTimeoutError::class)
            subclass(ServerNotFoundError::class)
            subclass(UnknownGroupError::class)
            subclass(UnknownIdentityKeyError::class)
            subclass(UnregisteredUserError::class)
            subclass(UntrustedIdentityError::class)
            subclass(UserAlreadyExistsError::class)
        }
    }
}
